\i vihash.sql
SET search_path = public;
CREATE OR REPLACE FUNCTION vihashtext(text) RETURNS int
AS '$libdir/vihash'
STRICT IMMUTABLE
LANGUAGE C;
CREATE TABLE values (x text);
COPY values FROM stdin;
SELECT x, vihashtext(x) FROM values ORDER BY x;
                    x                     | vihashtext  
------------------------------------------+-------------
 0daa7934b6c9652fe55bd95ba58d7b6f87bb459a | -1924906263
 2315cad49156618409f050c3e00fb0c85111b512 |   871673209
 2de24e276386a72b5992746de8abc2e47ac47cae |   758286169
 42c2b8a22cab3fc71b7891738deb5179fa8acf6e |   715258594
 4d2a6da43e8f6a686c5043bc1d4fdfa4439ae009 | -1722713656
 51108fa5f34b112a6f067effdbe8169c7ed65fa8 |  -117518199
 51d064e012e2d73fc67020c27471fd913688d4f6 | -1767487240
 5e68fbd76d795e29c103c822b8e15bc38c4dc7d2 |   284919874
 60c94aae40a4b59e78d3fceb62402d44512d0e08 |  -324638288
 8f274e341a12737612d213fca68d75e0d157d9af |   811040808
 94a57e57d1cd446830dad3976c8030caa6b27f30 |  1165161974
 9d503bde29403f6b9bdba366c2e1cbed6f37001d |  1932212666
 a069aff5802a60049555b7e814d9a55274d86b85 |  1803707486
 a32d67aad65b217aebb73e0b0051576ab8ae2202 |   -92880232
 acc8a7e79936892d202418e2241c68767b8934ce |   713166768
 b093f0ebcf84556b4c6c25293c3dea9034c47134 |  -961334026
 cb2b985b634593cb1d2a8eb624cd39cbc3b157fe | -1402537744
 dc68143621155fedccfa35a6b3d1d20f4b7a06ec |   595597921
 e864880b82aa65d84dcf854b63bc11f345915984 |  1078029294
 e95834d58502eef64493655abc380bd7bdc5092b | -1172968319
 f7ebce0490a3e3c4748a1affe2bc31c3f4937e60 |  -766249494
 f9cad6f96effaa1b9d52c42d380d90650c584874 |     5979018
(22 rows)

